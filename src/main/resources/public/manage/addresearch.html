<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Research</title>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/navigation.css">
    <link rel="stylesheet" href="../css/addpub.css">
    <script defer src="../js/fontawesome-all.js"></script>
    <script defer src="../js/fa-v4-shims.js"></script>

    <script src="../ckeditor/ckeditor.js"></script>
    <script src="../ckfinder/ckfinder.js"></script>
    <link rel="stylesheet" href="../css/addresearch.css">


</head>

<body>
<div class="top">Add Research</div>

<form method="post" action="../research/addresearch" enctype="multipart/form-data">

    <div class="form-group">
        <label class="control-label">Title(please use comma to seperate different people)</label>
        <input class="form-control " type="text" id="title" name="title" placeholder="标题请勿超过五个单词">
    </div>
    <div class="form-group">
        <label class="control-label">Abstract(摘要)</label>
        <input  class="form-control " type="text" id="abs" name="abs" placeholder="please  type Title">
    </div>
    <div class="form-group">
        <label class="control-label">CardID(摘要)</label>
        <input  class="form-control " type="text" id="cardid" name="cardid" placeholder="please  type CardID">
    </div>
    <div class="form-group">
        <label class="control-label">Code</label>
        <input id="code" type="file" name="code">
    </div>
    <div class="form-group">
        <label class="control-label">Pdf</label>
        <input id="pdf" type="file" name="pdf">
    </div>

    <div class="form-group">
        <label class="control-label"></label>
        <select class="form-control" name="type" >
            <option value="0">DeepLearning</option>
            <option value="1">Evolutionary Computation</option>
        </select>
    </div>
    <li class="divider"></li>

    <label class="control-label">Image(please use 4:3(height:width) you can mail to:blissolee@163.com to clip a standard photo)</label>
    <input id="img_input" type="file" name="imgfile">
    <label for="img_input"></label>
    <div class="preview_box"></div>
    <textarea name="text" id="editor1" rows="10" cols="80">    This is my textarea to be replaced with CKEditor.           </textarea>

    <script type="text/javascript">
        var editor = CKEDITOR.replace( 'editor1',{
            language: 'zh-cn',
            uiColor: '#c3c8d1',
            customConfig: '/ckeditor/algoConfig.js' //自定义自己的toobar风格
        } );
        CKFinder.setupCKEditor(editor, '/ckfinder/');

    </script>
    </p>
    <p>
        <input type="submit">
    </p>
</form>



<!--*****************************************页底****************************************************************-->
<div class="footpage">
    <div class="description">
        <h2>SUSTech EMI Group</h2>
        <p>@2018 all rights reserved</p>
    </div>
</div>
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script>
    $("#img_input").on("change", function(e){

        var file = e.target.files[0]; //获取一张图片资源

        // 只选择图片文件
//        if (!file.type.match('image.*')) {
//            return false;
//        }

        var reader = new FileReader();

        reader.readAsDataURL(file); // 读取文件

        // 渲染文件
        reader.onload = function(arg) {

            var img = '<img class="preview" src="' + arg.target.result + '" alt="preview"/>';
            $(".preview_box").empty().append(img);
        }
    });
    //    上传到服务器

    //    var form_data = new FormData();
    //    var file_data = $("#img_input").prop("files")[0];
    //
    //    // 把上传的数据放入form_data
    //    form_data.append("user", "Mike");
    //    form_data.append("img", file_data);
    //
    //    $.ajax({
    //        type: "POST", // 上传文件要用POST
    //        url: "",
    //        dataType : "json",
    //        crossDomain: true, // 如果用到跨域，需要后台开启CORS
    //        processData: false,  // 注意：不要 process data
    //        contentType: false,  // 注意：不设置 contentType
    //        data: form_data
    //    }).success(function(msg) {
    //        console.log(msg);
    //    }).fail(function(msg) {
    //        console.log(msg);
    //    });

</script>
</body>
</html>